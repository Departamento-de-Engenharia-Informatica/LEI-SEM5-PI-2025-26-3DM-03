@startuml C4_Manage_Docks_Implementation_View
title C4 â€“ Manage Docks (Code / Class Implementation View)

skinparam class {
  BackgroundColor HoneyDew
  BorderColor Black
  FontColor Black
}

skinparam package {
  BackgroundColor White
  BorderColor Black
  FontStyle bold
}

package "TodoApi.Controllers.Docks" {
  class DocksController {
    -PortContext _context
    +GetDocks()
    +GetDock(id)
    +PostDock(CreateDockDTO)
    +PutDock(id, UpdateDockDTO)
    +DeleteDock(id)
  }
}

package "TodoApi.Models.Docks" {
  class Dock {
    +int Id <<PK>>
    +string Name
    +string Location
    +decimal Length
    +decimal Depth
    +decimal MaxDraft
    +ICollection<VesselType> AllowedVesselTypes
  }
  
  class VesselType {
    +int Id <<PK>>
    +string Name
    +string Description
  }
  
  class DockDTO {
    +int Id
    +string Name
    +string Location
    +decimal Length
    +decimal Depth
    +decimal MaxDraft
    +List<VesselTypeDTO> AllowedVesselTypes
  }
  
  class CreateDockDTO {
    +string Name
    +string Location
    +decimal Length
    +decimal Depth
    +decimal MaxDraft
    +List<int> AllowedVesselTypeIds
  }
  
  class UpdateDockDTO {
    +int Id
    +string Name
    +string Location
    +decimal Length
    +decimal Depth
    +decimal MaxDraft
    +List<int> AllowedVesselTypeIds
  }
  
  class DockMapper {
    +{static} ToDTO(Dock): DockDTO
    +{static} ToEntity(CreateDockDTO): Dock
    +{static} UpdateEntity(Dock, UpdateDockDTO)
  }
}

package "TodoApi.Models" {
  class PortContext {
    +DbSet<Dock> Docks
    +DbSet<VesselType> VesselTypes
    +SaveChangesAsync()
  }
}

DocksController --> PortContext
DocksController --> DockMapper
DockMapper --> Dock
DockMapper --> DockDTO
DockMapper --> CreateDockDTO
DockMapper --> UpdateDockDTO
Dock "0..*" --> "0..*" VesselType : AllowedVesselTypes

@enduml

