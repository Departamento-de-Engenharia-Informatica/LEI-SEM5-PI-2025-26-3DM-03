@startuml C3_Review_VVN_Logical_View
title C3 – Review/Decision for Vessel Visit Notifications (Logical View)
left to right direction
hide empty members

skinparam rectangle {
  BackgroundColor White
  BorderColor Black
  FontColor Black
  FontStyle bold
}
skinparam database {
  BackgroundColor Wheat
  BorderColor Black
  FontColor Black
}
skinparam actor {
  BackgroundColor CornflowerBlue
  FontColor White
  BorderColor Black
}

actor "Port Authority Officer" as Officer
actor "Shipping Agent Representative" as Agent

rectangle "Port Logistics Management System (PLMS)" as PLMS {
  
  rectangle "Vessel Visit Notifications API\n(ASP.NET Core Web API)" as API
  rectangle "VVN Mapper\n(Conversão DTO ↔ Model)" as Mapper
  rectangle "PortContext\n(Entity Framework Core)" as Context
}

database "Database System\n(SQL / InMemory)" as DB
rectangle "External IAM Provider\n(SSO / OAuth 2.0)" as IAM

' === RELAÇÕES ===
Officer --> API : Lista / Decide VVN (HTTP/JSON)
Agent --> API : Submete / Atualiza VVN
Officer --> IAM : Autentica-se via OAuth 2.0
API --> IAM : Validação de token
API --> Mapper : Conversão de objetos
API --> Context : Operações de leitura/escrita (EF Core)
Context --> DB : Persistência de dados

@enduml