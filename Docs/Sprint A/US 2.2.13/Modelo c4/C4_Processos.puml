@startuml C4_Manage_Qualifications_Process_View
title C4 – Manage Qualifications (Process View – Create / Update / List Qualifications)
hide footbox

actor "Port Authority Officer" as Officer
participant "Frontend Web App\n(React / Angular)" as Frontend
participant "Qualifications Management API\n(ASP.NET Core)" as API
participant "External IAM Provider\n(OAuth 2.0 / OIDC)" as IAM
database "PLMS Database\n(SQL / InMemory)" as DB

== Authentication ==
Officer -> Frontend : Sign in (credentials)
Frontend -> IAM : Requests OAuth 2.0 token
IAM --> Frontend : Returns Access Token (JWT)

== List Qualifications ==
Officer -> Frontend : Opens Qualifications dashboard
Frontend -> API : GET /api/Qualifications (Bearer Token)
API -> IAM : Validates JWT Token
IAM --> API : Token valid
API -> DB : SELECT * FROM Qualifications
DB --> API : Returns list
API --> Frontend : HTTP 200 OK (JSON)
Frontend --> Officer : Displays list

== Create Qualification ==
Officer -> Frontend : Fill form (code, description)
Frontend -> API : POST /api/Qualifications (JSON + Bearer Token)
API -> IAM : Validates JWT Token
IAM --> API : Token valid
API -> DB : INSERT Qualification
DB --> API : Confirmation
API --> Frontend : HTTP 201 Created (QualificationDTO)
Frontend --> Officer : Shows confirmation

== Update Qualification ==
Officer -> Frontend : Edit Qualification
Frontend -> API : PUT /api/Qualifications/{code} (JSON + Bearer Token)
API -> IAM : Validates JWT Token
IAM --> API : Token valid
API -> DB : UPDATE Qualification SET Description = ...
DB --> API : Confirmation
API --> Frontend : HTTP 204 No Content
Frontend --> Officer : Shows update success

@enduml