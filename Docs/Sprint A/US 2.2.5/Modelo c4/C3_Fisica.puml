@startuml C3_Register_ShippingAgents_Physical_View
title C3 – Register Shipping Agents (Physical / Deployment View)
left to right direction

skinparam node {
  BackgroundColor White
  BorderColor Black
  FontColor Black
}
skinparam artifact {
  BackgroundColor HoneyDew
  BorderColor Black
  FontColor Black
}
skinparam database {
  BackgroundColor Wheat
  BorderColor Black
  FontColor Black
}

' ========= Nós / Ambientes =========
node "Docker Host\n(Linux VM / Kubernetes Node)" as DockerHost {
  node "Container: PLMS API\n(.NET 8 + Kestrel)\nport 8080" as ApiContainer {
    artifact "TodoApi.Controllers.dll" as Controllers
    artifact "TodoApi.Application.Services.dll" as AppServices
    artifact "TodoApi.Application.Mapping.dll" as Mapping
    artifact "TodoApi.Domain.Repositories.dll" as DomainRepos
    artifact "TodoApi.Infrastructure.Data.dll" as InfraData
    artifact "EFCore (NuGet)" as EFCore
    artifact "Program.cs (Minimal Hosting)" as Program
  }
}

node "DB Server\n(SQL Server Instance)\nport 1433" as DbServer {
  database "PLMS Database\n(SQL / EF Core)" as DB
}

' ========= Ligações físicas =========
ApiContainer -down-> DbServer : TCP 1433\nConnection String (trusted/secret)

' ========= Relações internas (alto nível – informativas) =========
Controllers --> AppServices : calls
AppServices --> DomainRepos : depends on (interface)
InfraData -up-|> DomainRepos : implements
InfraData --> EFCore : ORM provider
Program --> ApiContainer : hosts/bootstraps

@enduml
