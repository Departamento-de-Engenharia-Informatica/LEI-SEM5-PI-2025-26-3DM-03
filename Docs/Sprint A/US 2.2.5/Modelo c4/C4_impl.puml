@startuml C4_Register_Shipping_Agents_Implementation_View
title C4 – Register Shipping Agents (Implementation / Package & Class View)
left to right direction
hide empty members

skinparam package {
  BackgroundColor White
  BorderColor Black
  FontColor Black
  FontStyle bold
}
skinparam arrow { 
  Color Black 
  }

' ================================
' Pacotes por camada
' ================================

package "Controllers.ShippingOrganizations" {
  [ShippingAgentsController]
}

package "Application.Services.ShippingOrganizations" {
  [ShippingAgentService]
}

package "Application.Mapping" {
  [ShippingAgentMapper]
}

package "Domain.Repositories" {
  [IShippingAgentRepository]
}

package "Models.ShippingOrganizations" {
  [ShippingAgent]
  [ShippingAgentType <<Value Object>>]
  [Address <<Value Object>>]
  [Representative]
  [ShippingAgentDTO]
  [CreateShippingAgentDTO]
}

package "Infrastructure.Data" {
  [PortContext <<DbContext>>]
  [EfShippingAgentRepository <<implements IShippingAgentRepository>>]
}

' ================================
' Dependências
' ================================
[ShippingAgentsController] --> [ShippingAgentService] : uses
[ShippingAgentService] --> [ShippingAgentMapper] : maps DTO↔Domain
[ShippingAgentService] --> [IShippingAgentRepository] : depends on interface
[EfShippingAgentRepository] -up-|> [IShippingAgentRepository]
[EfShippingAgentRepository] --> [PortContext]

[ShippingAgentMapper] --> [ShippingAgent]
[ShippingAgentMapper] --> [ShippingAgentDTO]
[ShippingAgentMapper] --> [CreateShippingAgentDTO]

[ShippingAgent] --> [Address]
[ShippingAgent] --> [Representative]
[ShippingAgent] --> [ShippingAgentType]

@enduml
