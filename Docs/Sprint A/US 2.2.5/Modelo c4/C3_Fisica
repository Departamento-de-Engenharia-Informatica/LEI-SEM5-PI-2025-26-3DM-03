@startuml C3_Register_ShippingAgents_Physical_View
title C3 – Register Shipping Agents (Physical View)
left to right direction

skinparam node {
  BackgroundColor White
  BorderColor Black
  FontColor Black
  FontStyle bold
}

skinparam artifact {
  BackgroundColor HoneyDew
  BorderColor Black
  FontColor Black
}

' ======================
' COMPONENTE FÍSICO: API
' ======================

node "Shipping Agents Management API\n(ASP.NET Core Application)" as API {
  
  artifact "Controllers.dll" as Controllers
  artifact "Models.dll" as Models
  artifact "Data.dll" as Data
  artifact "EFCore.dll" as EFCore
  artifact "Program.cs / Startup.cs" as Startup
}

node "Runtime Environment\n(.NET 8 SDK / Docker Container)" as Runtime {
  artifact "ASP.NET Core Hosting" as Hosting
}

database "PLMS Database\n(SQL / SQLite)" as DB
cloud "External IAM Provider\n(OAuth 2.0 / OIDC)" as IAM
cloud "Email/SMS Providers\n(SMTP / API)" as Notif

' ======================
' CONEXÕES FÍSICAS
' ======================

Hosting --> API : Executa aplicação ASP.NET Core
API --> DB : Ligação via EF Core (Connection String)
API --> IAM : Requisições HTTP (validação de token)
API --> Notif : Envio de notificações (email/SMS)

Controllers --> Models : Usa DTOs e Entidades
Controllers --> Data : Acede a PortContext
Data --> EFCore : Usa ORM (Entity Framework Core)
Models --> EFCore : Entidades mapeadas
Startup --> Hosting : Configuração e inicialização

@enduml
