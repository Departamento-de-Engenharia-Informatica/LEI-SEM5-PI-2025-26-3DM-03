@startuml C4_Register_Shipping_Agents_Physical_View
title C4 – Register Shipping Agents (Physical / Deployment View – Shipping Organizations)
left to right direction

skinparam node {
  BackgroundColor White
  BorderColor Black
  FontColor Black
  FontStyle bold
}

skinparam artifact {
  BackgroundColor HoneyDew
  BorderColor Black
  FontColor Black
}

skinparam database {
  BackgroundColor Wheat
  BorderColor Black
  FontColor Black
}

skinparam cloud {
  BackgroundColor LightGray
  BorderColor Black
  FontColor Black
}

' ======================
' INFRAESTRUTURA (FÍSICA)
' ======================

actor "Organization Representative" as Rep
actor "Port Authority Officer" as Officer

node "User Device\n(Laptop / Browser)" as Client {
  artifact "Frontend Web App\n(React / Angular)" as Frontend
}

node "Application Server\n(Docker Container / IIS)" as AppServer {
  artifact "Shipping Agents Management API.dll\n(ASP.NET Core 8.0)" as API
  artifact "Controllers.ShippingOrganizations.dll"
  artifact "Models.ShippingOrganizations.dll"
  artifact "Data.dll"
}

node "Database Server\n(SQL Server / SQLite)" as DBServer {
  database "PLMS Database" as Database
}

cloud "External IAM Provider\n(OAuth 2.0 / OIDC)" as IAM
cloud "Email/SMS Providers\n(SMTP / HTTPS API)" as Notif

' ======================
' RELAÇÕES (FÍSICAS)
' ======================

Rep --> Frontend : Submete registo (HTTPS)
Officer --> Frontend : Consulta/valida (HTTPS)
Frontend --> API : REST (JSON/HTTPS)
API --> IAM : Validação de token OAuth 2.0
API --> Database : CRUD via EF Core (SQL)
API --> Notif : Envia confirmações (email/SMS)
AppServer -[hidden]-> DBServer

@enduml
