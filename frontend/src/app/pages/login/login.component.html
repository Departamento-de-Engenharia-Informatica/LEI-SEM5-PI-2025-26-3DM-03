<div class="login-page">
  <div class="login-card">
    <!-- Branding topo -->
    <header class="login-header">
      <div class="brand-mark">PO</div>
      <div class="brand-text">
        <h1 class="brand-title">Port Operations</h1>
        <p class="brand-subtitle">Management console</p>
      </div>
    </header>

    <!-- Avatar + upload -->
    <div class="avatar-wrap">
      <div
        class="avatar"
        [style.background-image]="avatarPreview ? 'url(' + avatarPreview + ')' : ''"
        [class.avatar-has-image]="!!avatarPreview"
      >
        <ng-container *ngIf="!avatarPreview">
          <span class="avatar-placeholder">P</span>
        </ng-container>
      </div>

      <label class="upload-label">
        <input
          type="file"
          accept="image/*"
          (change)="onFileSelected($event)"
          hidden
        />
        <span class="upload-text">Upload foto</span>
      </label>
    </div>

    <!-- Texto principal -->
    <section class="login-copy">
      <h2 class="login-title">Bem-vindo de volta</h2>
      <p class="login-subtitle">
        Inicia sessão com a tua conta Google para aceder ao painel do terminal.
      </p>
    </section>

    <!-- Botão principal -->
    <div class="actions">
      <button
        class="btn-google"
        type="button"
        (click)="login()"
      >
        <span class="google-icon">
          <span class="google-g">G</span>
        </span>
        <span class="btn-label">{{ i18n.t('login') }}</span>
      </button>
    </div>

    <p class="login-note">
      <small>Para testes locais, usa a conta admin seed configurada na base de dados.</small>
    </p>

    <div *ngIf="auth.authDeniedReason as reason" class="login-error">
      <strong>Access denied:</strong> {{ reason }}
    </div>
  </div>

  <!-- Painel lateral com copy simples -->
  <aside class="login-side">
    <div class="side-content">
      <h2 class="side-title">Operações de porto, sem ruído.</h2>
      <p class="side-text">
        Consolida dados de navios, cargas e recursos numa única interface leve, pensada para equipas operacionais.
      </p>

      <ul class="side-list">
        <li>Visão em tempo real do cais</li>
        <li>Alertas de capacidade e SLA</li>
        <li>Integração com o teu stack atual</li>
      </ul>
    </div>
  </aside>
</div>
